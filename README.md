# make_od_data_front

## 安装依赖
首先保证 node.js 已全局安装(网上有教程)，在 cmd 中验证是否安装成功：
```
node -v
npm -v
```
输出版本号表示安装成功，此时执行命令安装 yarn
```
npm install -g yarn
```
最后进入该项目根目录下的 cmd 中，执行：
```
yarn install
```

### 运行项目
运行后端项目后，在该项目根目录下的 cmd 中执行：
```
yarn serve
```
### 界面和使用

<img src=".\img\20240605172306.png" width="700"/>

- 左上角是时间范围选择
- 在网格中依次左键点击两个网格，右上角的两个正方形中会同时出现选中的网格 id，表示选中了一个OD流。选中2个网格后，点击“add”按钮即可添加已选的OD流。**（一般在构造数据集时需要添加双向的OD对，如选择了 72-34，则也要再手动选择 34-72）**
- 当左键点击选择后，若想要更改已选的网格，任意处点击右键即可取消刚才的选择。
- 当选择完成一个数据集后，界面如图所示：

<img src=".\img\12da97cf0058a325e93eaee3df05478.png" width="700"/>

左侧橙色网格是已选中的网格，蓝色线条是选中的OD流，粗细表示OD流流量（考虑到流量可能很大，线条的最大粗细为10px）。右侧的 tag 列表中对应显示了已添加的OD对，“35-54(3)” 表示一条网格 35 到网格 54 的流量为 3 的OD流，点击右侧的“x”可以删除这条OD流。
- 点击 save 按钮即可保存当前的数据集到后端。
- 若要查看历史构造的数据集，打开 file 选择器，打开后的数据集可在左侧展示 OD 图，**（此时蓝色线条的粗细固定，并不代表流量，只展示拓扑结构）**

<img src=".\img\20240605173701.png" width="700"/>

### 注
该项目没有考虑用户不当操作情况的处理，可能会在运行期间由于错误操作报错，一般刷新页面即可，或者 重启后端+刷新页面